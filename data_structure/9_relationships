-- primary key for customer
ALTER TABLE CUSTOMERS ADD CONSTRAINT PK_CUSTOMERS PRIMARY KEY (CUSTOMER_ID);

-- primay key for plan_price 
ALTER TABLE PLAN_PRICES ADD CONSTRAINT PK_PLAN_PRICES PRIMARY KEY (PLAN_ID);

-- primay key for subscriptions 
ALTER TABLE SUBSCRIPTIONS ADD CONSTRAINT PK_SUBSCRIPTIONS PRIMARY KEY (SUBSCRIPTION_ID);

-- foreign key to customers
ALTER TABLE SUBSCRIPTIONS ADD CONSTRAINT FK_SUBS_CUSTOMER FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMERS(CUSTOMER_ID);

-- foreign key to plan_prices
ALTER TABLE SUBSCRIPTIONS ADD CONSTRAINT FK_SUBS_PLAN FOREIGN KEY (PLAN_ID) REFERENCES PLAN_PRICES(PLAN_ID);

-- primary key for invoices
ALTER TABLE INVOICES ADD CONSTRAINT PK_INVOICES PRIMARY KEY (INVOICE_ID);

-- foreign key to customers 
ALTER TABLE INVOICES ADD CONSTRAINT FK_INV_CUSTOMER FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMERS(CUSTOMER_ID);

-- foreign key to subscriptions 
ALTER TABLE INVOICES ADD CONSTRAINT FK_INV_SUBSCRIPTION FOREIGN KEY (SUBSCRIPTION_ID) REFERENCES SUBSCRIPTIONS(SUBSCRIPTION_ID);

--  primary key for charges
ALTER TABLE CHARGES ADD CONSTRAINT PK_CHARGES PRIMARY KEY (CHARGE_ID);

-- foreign key to invoices 
ALTER TABLE CHARGES ADD CONSTRAINT FK_CHG_INVOICE FOREIGN KEY (INVOICE_ID) REFERENCES INVOICES(INVOICE_ID);

-- foreign key to customers 
ALTER TABLE CHARGES ADD CONSTRAINT FK_CHG_CUSTOMER FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMERS(CUSTOMER_ID);

-- foreign key to subscriptions
ALTER TABLE CHARGES ADD CONSTRAINT FK_CHG_SUBS FOREIGN KEY (SUBSCRIPTION_ID) REFERENCES SUBSCRIPTIONS(SUBSCRIPTION_ID);

-- primary key to utm_sources already created in the file 5 - creating table utm_sources
--ALTER TABLE UTM_SOURCES ADD CONSTRAINT PK_UTM_SOURCES PRIMARY KEY (UTM_ID); 

-- foreign key to customers
ALTER TABLE UTM_SOURCES ADD CONSTRAINT FK_UTM_CUSTOMER FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMERS(CUSTOMER_ID);
